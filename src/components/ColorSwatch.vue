<template>
  <div
    class="swatch"
    :style="{ backgroundColor: color.hex }"
    :title="color.hex"
    :class="{ dark }"
  ></div>
</template>

<script setup lang="ts">
import { computed, watch } from 'vue'
import type { Color } from '@/types/color'
import { isDark } from '@/utils/colorUtils'

// –ø–æ–ª—É—á–∞–µ–º –ø—Ä–æ–ø—Å—ã
const props = defineProps<{ color: Color }>()

// –≤—ã—á–∏—Å–ª—è–µ–º —Ç—ë–º–Ω—ã–π —Ü–≤–µ—Ç –∏–ª–∏ –Ω–µ—Ç
const dark = computed(() => isDark(props.color.hex))

// –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ
watch(dark, (value) => {
  console.log('üåì –¢—ë–º–Ω—ã–π —Ü–≤–µ—Ç?', value)
})
</script>

<style scoped>
.swatch {
  width: 32px;
  height: 32px;
  border-radius: 4px;
  border: 1px solid #ccc;
  cursor: pointer;
}

/* –µ—Å–ª–∏ —Ü–≤–µ—Ç —Ç—ë–º–Ω—ã–π ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª—å */
.swatch.dark {
  border-color: black;
}
</style>
